"use strict";var HeaderVideo=function(e){0!==e.element.length&&this.init(e)};HeaderVideo.prototype.init=function(e){this.$element=$(e.element),this.settings=e,this.videoDetails=this.getVideoDetails(),$(this.settings.closeTrigger).hide(),this.setFluidContainer(),this.bindUIActions(),this.videoDetails.teaser&&Modernizr.video&&!Modernizr.touch&&this.appendTeaserVideo()},HeaderVideo.prototype.bindUIActions=function(){var e=this;$(this.settings.playTrigger).on("click",function(t){t.preventDefault(),e.appendIframe()}),$(this.settings.closeTrigger).on("click",function(t){t.preventDefault(),e.removeIframe()})},HeaderVideo.prototype.appendIframe=function(){var e='<iframe id="header-video__video-element" src="'+this.videoDetails.videoURL+'?rel=0&amp;hd=1&autohide=1&showinfo=0&autoplay=1&enablejsapi=1&origin=*" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';$(this.settings.playTrigger).fadeOut(),$(this.settings.closeTrigger).fadeIn(),this.$element.append(e)},HeaderVideo.prototype.removeIframe=function(){$(this.settings.playTrigger).fadeIn(),$(this.settings.closeTrigger).fadeOut(),this.$element.find("#header-video__video-element").remove()},HeaderVideo.prototype.appendTeaserVideo=function(){var e=this.videoDetails.teaser,t='<video autoplay="true" loop="true" muted id="header-video__teaser-video" class="header-video__teaser-video"><source src="'+e+'.webm" type="video/mp4"><source src="'+e+'.mp4" type="video/mp4"></video>';this.$element.append(t)},HeaderVideo.prototype.setFluidContainer=function(){var e=this.$element;e.data("aspectRatio",this.videoDetails.videoHeight/this.videoDetails.videoWidth),$(window).resize(function(){var t=$(window).width(),i=$(window).height();e.width(Math.ceil(t)),e.height(Math.ceil(t*e.data("aspectRatio"))),i<e.height()&&(e.width(Math.ceil(t)),e.height(Math.ceil(i)))}).trigger("resize")},HeaderVideo.prototype.getVideoDetails=function(){var e=$(this.settings.media);return{videoURL:e.attr("data-video-URL"),teaser:e.attr("data-teaser"),videoHeight:e.attr("data-video-height"),videoWidth:e.attr("data-video-width")}};